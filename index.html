<head>
  <style>
      :root {
--primary-color: #212121;
--background-color: #111;
--font: sans-serif;
--highlight-color: orangered;
--card-background: #333;
--card-hover-bg: rgba(255, 255, 255, 0.1);
}

* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
background: var(--background-color);
font-family: var(--font);
display: flex;
justify-content: center;
align-items: flex-start;
padding: 50px 0;
height: 200vh;
overflow-x: hidden;
}

/* Timeline Container */
.timeline {
background: var(--primary-color);
margin: 20px auto;
padding: 20px;
position: relative;
width: 400px;
border-radius: 10px;
height: 100%;
}

/* Timeline Line */
.timeline-line {
position: absolute;
left: 50%;
top: 0;
width: 5px;
background-color: var(--highlight-color);
transform: translateX(-50%);
height: 100%;
}

/* Timeline Dot */
.dot {
position: absolute;
top: 0;
left: 50%;
width: 20px;
height: 20px;
background-color: white;
border: 4px solid var(--highlight-color);
border-radius: 50%;
transform: translateX(-50%);
transition: top 0.3s ease;
}

/* Card container */
.card {
position: relative;
max-width: 400px;
background-color: var(--card-background);
border-radius: 10px;
margin: 50px 0;
opacity: 0;
transform: translateY(50px);
transition: opacity 0.3s ease, transform 0.3s ease;
padding: 30px;
box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.2);
}

/* Setting padding based on even or odd */
.card:nth-child(odd) {
padding: 30px 0 30px 30px;
}
.card:nth-child(even) {
padding: 30px 30px 30px 0;
}

/* Active State when Visible on Scroll */
.card.active {
opacity: 1;
transform: translateY(0);
transition: transform 0.3s ease, opacity 0.3s ease;
}

/* Card Hover Effect */
.card:hover {
background: var(--card-hover-bg);
cursor: pointer;
}

/* Card Info */
.info {
color: gray;
}

.title {
color: var(--highlight-color);
margin-bottom: 10px;
}

/* Additional Styles */
.card.active .info {
color: white;
}
  </style>
</head>

<div class="timeline">
  <svg class="line">
      <path id="timeline-path" d="M 50 0" fill="none" stroke="orangered" stroke-width="5" />
  </svg>
  <div class="outer">
      <div class="dot"></div>
      <div class="card">
          <div class="info">
              <h3 class="title">Title 1</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
          </div>
      </div>
      <div class="card">
          <div class="info">
              <h3 class="title">Title 2</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
          </div>
      </div>
      <div class="card">
          <div class="info">
              <h3 class="title">Title 3</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
          </div>
      </div>
      <div class="card">
          <div class="info">
              <h3 class="title">Title 4</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
          </div>
      </div>
      <div class="card">
          <div class="info">
              <h3 class="title">Title 5</h3>
              <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit...</p>
          </div>
      </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
      const cards = document.querySelectorAll(".card");
      const dot = document.querySelector(".dot");
      const line = document.querySelector("#timeline-path");
      const cardCount = cards.length;
      
      const updateDotPosition = () => {
          const scrollTop = window.scrollY;
          const cardPositions = Array.from(cards).map((card) => {
              const rect = card.getBoundingClientRect();
              return {
                  top: rect.top + scrollTop,
                  height: rect.height,
              };
          });

          // Update line height to match the number of cards
          const lineHeight = cardCount * 2000; // Adjust this multiplier for more or fewer items
          line.setAttribute("d", `M 50 0 Q 80 ${20000}, 50 ${lineHeight * 2} T 50 ${lineHeight * 3}`);

          cardPositions.forEach((pos, index) => {
              const viewportCenter = window.innerHeight / 2 + scrollTop;
              if (viewportCenter >= pos.top && viewportCenter <= pos.top + pos.height) {
                  const offset = pos.top - scrollTop + pos.height / 2;
                  dot.style.top = `${offset}px`;

                  cards.forEach((card) => card.classList.remove("active"));
                  cards[index].classList.add("active");
              }
          });
      };

      window.addEventListener("scroll", updateDotPosition);
      updateDotPosition();
  });
</script>
